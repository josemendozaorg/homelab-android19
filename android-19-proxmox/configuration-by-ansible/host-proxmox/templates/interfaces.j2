# Network interface configuration for Proxmox VE
# Managed by Ansible - Do not edit manually

auto lo
iface lo inet loopback

{% for bridge in proxmox_network.bridges %}
{% if bridge.interface is defined %}
# Physical interface
auto {{ bridge.interface }}
iface {{ bridge.interface }} inet manual

{% endif %}
# Bridge {{ bridge.name }}
auto {{ bridge.name }}
iface {{ bridge.name }} inet static
    address {{ bridge.address }}
{% if bridge.gateway is defined %}
    gateway {{ bridge.gateway }}
{% endif %}
{% if bridge.bridge_ports is defined %}
    bridge-ports {{ bridge.bridge_ports }}
{% else %}
    bridge-ports none
{% endif %}
    bridge-stp {{ bridge.bridge_stp | default('off') }}
    bridge-fd {{ bridge.bridge_fd | default(0) }}
{% if bridge.comment is defined %}
    # {{ bridge.comment }}
{% endif %}

{% endfor %}