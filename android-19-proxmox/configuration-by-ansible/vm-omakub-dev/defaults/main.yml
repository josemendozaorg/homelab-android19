---
# Omakub Dev VM role defaults
ubuntu_cloud_image_url: "https://cloud-images.ubuntu.com/releases/noble/release/ubuntu-24.04-server-cloudimg-amd64.img"
ubuntu_cloud_image_name: "ubuntu-24.04-server-cloudimg-amd64.img"
omakub_install_script_url: "https://omakub.org/install"

# Proxmox storage configuration
cloud_image_storage_path: "/var/lib/vz/template/iso"

# VM configuration (VM provisioned by Terraform)
omakub_vm:
  id: 103
  name: "omakub-dev"
  ip: "192.168.0.103"

# VM Resources (full performance configuration as per requirements)
omakub_vm_balloon: 39829  # 40% of 92GB host RAM with ballooning
omakub_vm_cores: 32       # Full CPU power (32 threads)
omakub_vm_disk_size: 150  # 150GB disk for Ubuntu + Omakub + desktop

# Optional configuration
omakub_vm_start_on_configure: false  # Start VM during configuration
omakub_vm_wait_for_network: false  # Wait for VM network to be available
omakub_vm_install_agent: false  # Try to install QEMU guest agent
omakub_vm_enable_backup: false  # Create backup schedule
omakub_vm_backup_schedule: "sun 03:00"  # Backup schedule time
omakub_vm_backup_storage: "local"  # Storage for backups

# Cloud-init User Configuration
cloud_init_user: "dev"
cloud_init_password: "dev"
cloud_init_hostname: "omakub-dev"
cloud_init_timezone: "UTC"

# Git Configuration for Omakub
git_user_name: "Dev User"
git_user_email: "josephrichard7@gmail.com"

# Network Configuration (static IP)
network_config:
  interface: "enp6s18"
  ip_address: "192.168.0.103"
  netmask: "255.255.255.0"
  gateway: "192.168.0.1"
  dns_servers:
    - "192.168.0.25"  # AdGuard DNS
    - "1.1.1.1"       # Cloudflare fallback

# Desktop Configuration for Omakub
desktop_packages:
  - "ubuntu-desktop-minimal"
  - "gnome-shell"
  - "gdm3"
  - "firefox"
  - "software-properties-common"
  - "curl"
  - "wget"
  - "git"

# Installation Configuration (Automated via cloud-init)
cloud_init_wait_for_completion: true
cloud_init_timeout: 3600  # 60 minutes for full setup
ssh_wait_timeout: 600  # 10 minutes to wait for SSH
ssh_retry_interval: 30  # Check SSH every 30 seconds